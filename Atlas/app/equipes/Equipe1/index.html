<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>DisparitÃ©s Socio-Ã‰conomiques - Ã‰quipe 1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Import de la feuille de style personnalisÃ©e -->
  <link rel="stylesheet" href="app.css">

  <!-- Import de MapLibre GL -->
  <link href="https://unpkg.com/maplibre-gl@^5.3.0/dist/maplibre-gl.css" rel="stylesheet" />

  <!-- Import de Split.js pour sÃ©parer la carte et le panneau -->
  <script src="https://unpkg.com/split.js/dist/split.min.js"></script>
</head>
<body>

  <!--
    Conteneur principal qui contient la carte (gauche) et le panneau latÃ©ral (droite).
    L'attribut "id" permet de cibler l'Ã©lÃ©ment dans app.js pour Split.js.
  -->
  <div id="mainContainer">
    <!-- Zone de la carte -->
    <div id="map" class="split"></div>

    <!-- Panneau latÃ©ral : histogramme, texte explicatif, lÃ©gende, etc. -->
    <div id="infoPanel" class="split">
      
 <!-- En-tÃªte du panneau -->
<div class="panel-header">
  <h5 style="text-align: center;">Recensement du Canada 2021</h5>
  <h3 class="panel-title">DisparitÃ©s Socio-Ã©conomiques dans la Ville de MontrÃ©al</h3>
  <p id="panelVariableSubtitle" class="panel-subtitle">
    SÃ©lectionnez une variable dans le menu
  </p>
</div>


      <!-- Histogramme dynamique (Chart.js) -->
      <canvas id="histogram" height="100"></canvas>

      <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid #ccc;" />


     <!-- Texte explicatif -->
<div class="panel-body">
  <h5>Par Ibrahima Khalil Mbacke</h5>
  <p><em>BasÃ© sur le Recensement du Canada 2021</em></p>

  <p>
    Cette application interactive prÃ©sente les <strong>disparitÃ©s socio-Ã©conomiques</strong> 
    entre les secteurs de recensement de la rÃ©gion de MontrÃ©al. Cinq variables issues du 
    Recensement canadien de 2021 sont proposÃ©es :
  </p>

  <ul>
    <li><strong>ğŸ’° Revenu mÃ©dian des mÃ©nages</strong></li>
    <li><strong>ğŸ’µ Revenu mÃ©dian des individus</strong></li>
    <li><strong>ğŸ“‰ Taux de chÃ´mage (%)</strong></li>
    <li><strong>ğŸ“ DiplÃ´mÃ©s universitaires (%)</strong></li>
    <li><strong>ğŸŒ DensitÃ© de population</strong> (hab./kmÂ²)</li>
  </ul>
  

  <p>
    Pour chaque variable sÃ©lectionnÃ©e, une carte choroplÃ¨the est gÃ©nÃ©rÃ©e dynamiquement, 
    accompagnÃ©e dâ€™un histogramme montrant la distribution de la variable Ã  travers les secteurs. 
    Lâ€™utilisateur peut cliquer sur une barre de lâ€™histogramme pour mettre en Ã©vidence 
    les secteurs appartenant Ã  une mÃªme classe de valeur.
  </p>

  <div class="note-box">
    <p class="histogram-expl">
      <strong>Note mÃ©thodologique :</strong><br />
      Les donnÃ©es statistiques ont Ã©tÃ© regroupÃ©es en classes selon des seuils dÃ©finis pour chaque variable.
      Lâ€™histogramme indique le nombre de secteurs dans chaque classe.
      Plus la barre est haute, plus la variable est concentrÃ©e dans cette plage de valeur.
    </p>
  </div>
  

  <p><strong>Date :</strong> 2025-04-14</p>
</div>


  <!-- LÃ©gende choroplÃ¨the dynamique (dessinÃ©e par updateLegend(...)) -->
  <div id="legendChoropleth"></div>

  <!-- Bouton pour afficher/masquer les arrondissements -->
  <div id="arrondissementBtn"
     class="maplibregl-ctrl maplibregl-ctrl-group"
     style="position: absolute; top: 145px; left: 10px;">
  <button id="toggleArrondissement" title="Afficher/Masquer les arrondissements">
    ğŸ—ºï¸
  </button>
</div>


  <!-- Menu dÃ©roulant dynamique (variables Ã  sÃ©lectionner) -->
  <div class="dropdown" style="position: absolute; top: 180px; left: 10px; z-index: 999;">
    <button class="dropbtn">ğŸ“Š Choisir une variable</button>
    <div class="dropdown-content" id="variableDropdown">
      <!-- Les <a> sont injectÃ©s en JS (updateChoropleth(...)) -->
    </div>
  </div>

  <!-- Infobulle (tooltip) pour le survol des polygones -->
  <div id="tooltip"
       style="position: absolute; z-index: 999;
              background: white; padding: 6px 10px;
              border-radius: 6px; box-shadow: 0 1px 4px rgba(0,0,0,0.3);
              font-size: 12px; pointer-events: none;
              display: none;">
  </div>



  

  <!-- Import de MapLibre GL JS -->
  <script src="https://unpkg.com/maplibre-gl@^5.3.0/dist/maplibre-gl.js"></script>
  <!-- Import de Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Script principal (logique JS) -->
  <script src="./app.js" type="module"></script>

</body>
</html>
